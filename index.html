<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GSAP Project - Home</title>
    <link rel="stylesheet" href="css/style.css" />
    <!-- Styles du preloader inline pour éviter le flash -->
    <style>
      /* Preloader styles inline pour éviter le flash */
      .preloader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: linear-gradient(135deg, #6d2f2f 0%, #661111 50%, #4a1010 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        overflow: hidden;
        clip-path: inset(0% 0% 0% 0%);
      }

      .preloader::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background:
          radial-gradient(circle at 20% 30%, rgba(236, 229, 68, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 80% 70%, rgba(109, 47, 47, 0.3) 0%, transparent 50%);
        animation: preloaderGlow 3s ease-in-out infinite alternate;
      }

      @keyframes preloaderGlow {
        0% {
          opacity: 0.5;
        }
        100% {
          opacity: 1;
        }
      }

      .preloader-logo {
        width: 150px;
        height: 150px;
        position: relative;
        z-index: 10000;
        border-radius: 50%;
        box-shadow:
          0 0 60px rgba(236, 229, 68, 0.3),
          0 0 100px rgba(236, 229, 68, 0.2),
          0 10px 40px rgba(0, 0, 0, 0.5);
        will-change: transform;
      }

      .preloader-logo img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
        filter: brightness(1.1) contrast(1.05);
      }

      @media (max-width: 768px) {
        .preloader-logo {
          width: 120px;
          height: 120px;
        }
      }

      @media (max-width: 480px) {
        .preloader-logo {
          width: 100px;
          height: 100px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Preloader (HORS du barba-wrapper) -->
    <div class="preloader">
      <div class="preloader-logo">
        <img src="assets/test.webp" alt="Logo" />
      </div>
    </div>

    <!-- Navigation (HORS du barba-wrapper) -->
    <nav class="main-nav">
      <a href="index.html" class="nav-logo page-link">
        <img src="assets/test.webp" alt="GSAP Logo" />
      </a>

      <button class="burger-menu" aria-label="Menu">
        <span class="burger-line"></span>
        <span class="burger-line"></span>
        <span class="burger-line"></span>
      </button>
    </nav>

    <!-- Menu déroulant (HORS du barba-wrapper) -->
    <div class="menu-overlay"></div>
    <div class="dropdown-menu">
      <div class="dropdown-content">
        <a href="pages/contexte.html" class="dropdown-link page-link">Pourquoi cette course ?</a>
        <a href="pages/inscription.html" class="dropdown-link page-link">S'inscrire</a>
        <a href="pages/page1.html" class="dropdown-link page-link">Le circuit</a>
        <a href="pages/page1.html" class="dropdown-link page-link">Les distances</a>
        <a href="pages/page2.html" class="dropdown-link page-link">After party</a>
        <a href="pages/page3.html" class="dropdown-link page-link">Bénévoles</a>
        <a href="pages/page4.html" class="dropdown-link page-link">Photos</a>
      </div>
    </div>

    <!-- ===== BARBA WRAPPER (data-barba="wrapper") ===== -->
    <div data-barba="wrapper">
      <!-- ===== BARBA CONTAINER - Le contenu qui change ===== -->
      <main data-barba="container" data-barba-namespace="home">
      <!-- Hero Section -->
      <section class="hero">
        <div class="hero-content">
          <div class="hero-text" data-copy-container>
            <h1>Course de Bordeaux</h1>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et
              dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
              ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu
              fugiat
            </p>
          </div>
        </div>
      </section>

      <section class="parcours-wrapper">
        <h2>Le Parcours</h2>
        <section class="parcours-section">
          <div class="parcours-container">
            <div class="parcours-left">
              <div class="map-container">
                <h3>Bordeaux lac</h3>
                <!-- SVG avec le path du circuit -->
                <svg
                  class="parcours-svg-overlay"
                  viewBox="0 0 800 600"
                  width="100%"
                  height="100%"
                  preserveAspectRatio="xMidYMid meet"
                >
                  <path
                    class="parcours-svg-path-bg"
                    d="M 266.13,106.54 L 157.54,113.09 L 140.03,143.20 L 122.99,172.98 L 96.20,204.73 L 92.31,215.53 L 102.54,241.72 L 111.79,250.23 L 168.30,258.08 L 173.64,264.96 L 171.69,271.83 L 149.77,275.76 L 158.55,294.09 L 169.75,317.66 L 187.28,340.24 L 181.92,348.76 L 186.79,364.14 L 204.33,395.24 L 230.14,412.59 L 253.52,442.05 L 267.15,465.29 L 303.69,486.57 L 322.19,505.23 L 340.70,515.05 L 342.64,528.15 L 360.18,530.77 L 383.07,522.91 L 427.39,522.26 L 479.51,502.29 L 506.77,470.53 L 529.66,416.84 L 550.60,357.27 L 566.67,327.15 L 599.31,303.91 L 629.50,274.78 L 680.16,234.19 L 686.96,216.84 L 678.19,198.84 L 683.55,180.84 L 688.88,155.79 L 707.69,146.99 L 701.13,120.01 L 697.86,85.34 L 696.70,69.23 L 575.88,74.47 L 442.44,84.94 L 385.97,85.92 L 367.96,86.90 L 362.12,92.47 L 354.32,100.65 L 354.33,100.68 L 349.63,101.45 L 267.63,105.21 L 266.20,106.44 L 266.17,106.54"
                  />
                  <path
                    class="parcours-svg-filled"
                    d="M 266.13,106.54 L 157.54,113.09 L 140.03,143.20 L 122.99,172.98 L 96.20,204.73 L 92.31,215.53 L 102.54,241.72 L 111.79,250.23 L 168.30,258.08 L 173.64,264.96 L 171.69,271.83 L 149.77,275.76 L 158.55,294.09 L 169.75,317.66 L 187.28,340.24 L 181.92,348.76 L 186.79,364.14 L 204.33,395.24 L 230.14,412.59 L 253.52,442.05 L 267.15,465.29 L 303.69,486.57 L 322.19,505.23 L 340.70,515.05 L 342.64,528.15 L 360.18,530.77 L 383.07,522.91 L 427.39,522.26 L 479.51,502.29 L 506.77,470.53 L 529.66,416.84 L 550.60,357.27 L 566.67,327.15 L 599.31,303.91 L 629.50,274.78 L 680.16,234.19 L 686.96,216.84 L 678.19,198.84 L 683.55,180.84 L 688.88,155.79 L 707.69,146.99 L 701.13,120.01 L 697.86,85.34 L 696.70,69.23 L 575.88,74.47 L 442.44,84.94 L 385.97,85.92 L 367.96,86.90 L 362.12,92.47 L 354.32,100.65 L 354.33,100.68 L 349.63,101.45 L 267.63,105.21 L 266.20,106.44 L 266.17,106.54 Z"
                  />
                  <path
                    class="parcours-svg-path"
                    d="M 266.13,106.54 L 157.54,113.09 L 140.03,143.20 L 122.99,172.98 L 96.20,204.73 L 92.31,215.53 L 102.54,241.72 L 111.79,250.23 L 168.30,258.08 L 173.64,264.96 L 171.69,271.83 L 149.77,275.76 L 158.55,294.09 L 169.75,317.66 L 187.28,340.24 L 181.92,348.76 L 186.79,364.14 L 204.33,395.24 L 230.14,412.59 L 253.52,442.05 L 267.15,465.29 L 303.69,486.57 L 322.19,505.23 L 340.70,515.05 L 342.64,528.15 L 360.18,530.77 L 383.07,522.91 L 427.39,522.26 L 479.51,502.29 L 506.77,470.53 L 529.66,416.84 L 550.60,357.27 L 566.67,327.15 L 599.31,303.91 L 629.50,274.78 L 680.16,234.19 L 686.96,216.84 L 678.19,198.84 L 683.55,180.84 L 688.88,155.79 L 707.69,146.99 L 701.13,120.01 L 697.86,85.34 L 696.70,69.23 L 575.88,74.47 L 442.44,84.94 L 385.97,85.92 L 367.96,86.90 L 362.12,92.47 L 354.32,100.65 L 354.33,100.68 L 349.63,101.45 L 267.63,105.21 L 266.20,106.44 L 266.17,106.54"
                  />
                </svg>

                <div class="parcours-pin">
                  <div class="pin-center"></div>
                  <div class="pin-pulse"></div>
                </div>
              </div>
            </div>

            <div class="parcours-right">
              <div class="altitude-container">
                <h3>Profil d'altitude</h3>

                <div class="altitude-wrapper">
                  <div class="altitude-scale-left">
                    <div class="altitude-tick">7m</div>
                    <div class="altitude-tick">6m</div>
                    <div class="altitude-tick">5m</div>
                    <div class="altitude-tick">4m</div>
                    <div class="altitude-tick">3m</div>
                    <div class="altitude-tick">2m</div>
                    <div class="altitude-tick">1m</div>
                    <div class="altitude-tick">0m</div>
                  </div>

                  <svg class="altitude-chart" viewBox="0 0 800 300" preserveAspectRatio="none">
                    <defs>
                      <linearGradient id="altitudeGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                        <stop offset="0%" style="stop-color: rgba(236, 229, 68, 0.4); stop-opacity: 1" />
                        <stop offset="100%" style="stop-color: rgba(236, 229, 68, 0.05); stop-opacity: 1" />
                      </linearGradient>
                    </defs>

                    <line x1="0" y1="75" x2="800" y2="75" class="altitude-gridline" />
                    <line x1="0" y1="150" x2="800" y2="150" class="altitude-gridline" />
                    <line x1="0" y1="225" x2="800" y2="225" class="altitude-gridline" />

                    <path
                      class="altitude-fill"
                      d="M 0,300 L 14,193 L 29,236 L 43,236 L 57,193 L 72,25 L 86,25 L 100,107 L 115,25 L 129,25 L 143,25 L 157,25 L 172,25 L 186,25 L 200,300 L 215,300 L 229,300 L 243,300 L 257,300 L 272,300 L 286,300 L 300,300 L 314,300 L 329,300 L 343,300 L 357,300 L 371,300 L 386,300 L 400,300 L 414,300 L 429,300 L 443,300 L 457,300 L 471,300 L 486,300 L 500,300 L 514,300 L 529,300 L 543,300 L 557,300 L 571,300 L 586,300 L 600,300 L 614,300 L 629,300 L 643,300 L 657,300 L 671,300 L 686,300 L 700,300 L 714,300 L 729,300 L 743,300 L 757,300 L 771,300 L 786,300 L 800,300 L 800,300 L 0,300 Z"
                      fill="url(#altitudeGradient)"
                    />

                    <path
                      class="altitude-line"
                      d="M 0,300 L 14,193 L 29,236 L 43,236 L 57,193 L 72,25 L 86,25 L 100,107 L 115,25 L 129,25 L 143,25 L 157,25 L 172,25 L 186,25 L 200,300 L 215,300 L 229,300 L 243,300 L 257,300 L 272,300 L 286,300 L 300,300 L 314,300 L 329,300 L 343,300 L 357,300 L 371,300 L 386,300 L 400,300 L 414,300 L 429,300 L 443,300 L 457,300 L 471,300 L 486,300 L 500,300 L 514,300 L 529,300 L 543,300 L 557,300 L 571,300 L 586,300 L 600,300 L 614,300 L 629,300 L 643,300 L 657,300 L 671,300 L 686,300 L 700,300 L 714,300 L 729,300 L 743,300 L 757,300 L 771,300 L 786,300 L 800,300"
                      stroke="var(--light-color)"
                      stroke-width="3"
                      fill="none"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />

                    <circle
                      class="altitude-marker"
                      cx="0"
                      cy="300"
                      r="8"
                      fill="var(--light-color)"
                      filter="drop-shadow(0 0 10px rgba(237, 236, 232, 0.6))"
                    />

                    <line
                      class="altitude-marker-line"
                      x1="0"
                      y1="0"
                      x2="0"
                      y2="300"
                      stroke="var(--light-color)"
                      stroke-width="1"
                      opacity="0.4"
                      stroke-dasharray="3,3"
                    />
                  </svg>
                </div>

                <div class="altitude-scale-bottom">
                  <div class="distance-tick">0 km</div>
                  <div class="distance-tick">1.5 km</div>
                  <div class="distance-tick">3 km</div>
                  <div class="distance-tick">4.5 km</div>
                  <div class="distance-tick">6 km</div>
                  <div class="distance-tick">6.4 km</div>
                </div>

                <div class="altitude-info">
                  <div class="altitude-stat">
                    <span class="altitude-label">Distance totale</span>
                    <span class="altitude-value">6,4 km</span>
                  </div>
                  <div class="altitude-stat">
                    <span class="altitude-label">Dénivelé +</span>
                    <span class="altitude-value">7 m</span>
                  </div>
                  <div class="altitude-stat">
                    <span class="altitude-label">Dénivelé -</span>
                    <span class="altitude-value">7 m</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </section>

      <section class="distances-section">
        <h2>Les distances</h2>
        <div class="distances-carousel">
          <div class="distances-track">
            <div class="distance-tile" data-distance="5k"><span class="distance-label">5 km</span></div>
            <div class="distance-tile" data-distance="10k"><span class="distance-label">10 km</span></div>
            <div class="distance-tile" data-distance="12k"><span class="distance-label">12 km</span></div>
            <div class="distance-tile" data-distance="15k"><span class="distance-label">15 km</span></div>
            <div class="distance-tile" data-distance="21k"><span class="distance-label">21 km</span></div>
            <div class="distance-tile" data-distance="25k"><span class="distance-label">25 km</span></div>
            <div class="distance-tile" data-distance="30k"><span class="distance-label">30 km</span></div>
            <div class="distance-tile" data-distance="35k"><span class="distance-label">35 km</span></div>
            <div class="distance-tile" data-distance="42k"><span class="distance-label">42 km</span></div>
          </div>
        </div>
      </section>

      <section class="partenaires-section">
        <h2>Partenaires non consentis</h2>
        <div class="partenaires-track">
          <div class="partner-card"><img src="assets/decathlon.svg" alt="Decathlon" /></div>
          <div class="partner-card"><img src="assets/deezer.svg" alt="Deezer" /></div>
          <div class="partner-card"><img src="assets/new_balance.svg" alt="New Balance" /></div>
          <div class="partner-card"><img src="assets/pompotes.svg" alt="Pompotes" /></div>
          <div class="partner-card"><img src="assets/universite.svg" alt="Université" /></div>
          <div class="partner-card"><img src="assets/ville.svg" alt="Ville" /></div>
          <div class="partner-card"><img src="assets/kiprun.svg" alt="Kiprun" /></div>
          <div class="partner-card"><img src="assets/solution.svg" alt="Solution" /></div>
          <div class="partner-card"><img src="assets/hydratis.svg" alt="Hydratis" /></div>
          <div class="partner-card"><img src="assets/zingueur.svg" alt="Zingueur" /></div>
        </div>
      </section>

      <section class="scroll-section"></section>
      <section class="pin-section"></section>

      <!-- Footer -->
      <footer class="footer">
        <p>&copy; 2024 GSAP Project. All rights reserved.</p>
      </footer>
      </main>
    </div>

    <!-- Scripts -->
    <script src="lib/gsap.min.js"></script>
    <script src="lib/ScrollTrigger.min.js"></script>
    <script src="lib/SplitText.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@barba/core"></script>

    <script src="js/animations/preloader.js"></script>
    <script src="js/animations/pageTransition.js"></script>
    <script src="js/animations/horizontalScroll.js"></script>
    <script src="js/animations/pinAnimation.js"></script>
    <script src="js/animations/customCursor.js"></script>
    <script src="js/animations/distanceCarousel.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>